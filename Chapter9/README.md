## 存储持续性、作用域和链接性

### 存储持续性
*   自动存储持续性
    *   在函数定义中声明的变量(包括函数参数)的存储持续性为自动的。它们在程序开始执行其所属的而函数或代码块被创建，执行完函数或代码块时，内存被释放。C++有两种存储持续性为自动的变量

*   静态存储持续性
    *   在函数外定义的变量和使用关键字static定义的变量的存储持续性都为静态。它们在程序整个运行过程中都存在。C++有三种存储持续性为静态的变量

*   线程存储持续性(C++11)
    *   当前，多核cpu很常见，这些cpu可同时处理多个执行任务。这让程序能够将计算放在可并行处理的不同线程中。如果使用关键字thread_local声明的，则其生命周期与所属的线程一样长

*   动态存储持续性
    *   用new运算符分配的内存将一直存在，直到使用delete运算符将其释放或程序结束为止。这种内存的存储持续性为动态，有时被称为自由存储或堆

### 自动存储持续性
*   默认情况下，在函数中声明的函数参数和变量的存储持续性都为自动，作用域为局部

### 静态存储持续性
*   和C语言一样，C++语言也为静态存储持续性变量提供了三种链接性:外部链接性(可在其他文件中访问)、内部链接性(只能在当前文件访问)、无链接性(只能在当前函数或代码块中访问)。
*   创建**链接性为外部的静态持续变量**，必须在代码块外面声明它；创建**链接性为内部的静态持续变量**，必须在代码块的外面声明它，并且使用static限定符；要创建**没有链接性的静态持续变量**，必须在代码块内部声明它，并且使用static限定符
```C++
/*
    a,b,c都是的静态存储持续性

*/
#include <iostream>
int a=100;  //external linkage
static int b=100;   //internal linkage

void func()
{
    static int c=0; //no linkage
    int d=0=;
}
int main()
{


    return 0;
}
```

### 单一定义原则
该规则指出，变量只能有一次定义。为了满足这个需求，C++提供了两种变量声明。一种是定义声明，它给变量分配内存空间；另一种是引用声明，他不给变量分配内存空间，他引用已有的变量名
```c++
extern int num; //引用声明使用extern关键字，且不进行初始化，否则为定义声明


//如果要在多个文件中使用外部变量，只需要在一个文件种包含该变量的定义，在使用该变量的其它文件中，必须使用extern关键字声明它

//参考test1.cpp test2.cpp
```